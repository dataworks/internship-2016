<head>
	<link rel="stylesheet" href="css/appView.css"/>
</head>

<body>

	<div class="block">
		<select id="select" ng-model="selection" ng-change="showSelectValue(selection)"> 
			<option id="u" value="new" selected>New</option>  
			<option id="u" value="favorite" >Favorite</option> 
			<option id="u" value="review">Review</option> 
			<option id="u"  value="archive" >Archive</option> 
		</select>
	</div>



	<div infinite-scroll="nextPage()" infinite-scroll-disabled="loadingData" infinite-scroll-check="false" infinite-scroll-distance="1">
		<div class="row-applicant-row" >
			<table class="table table-condensed">
				<thead id="head">
					<tr><th id="p">Profile</th>
						<th id="s"><a title="Click to Sort Score." ng-click="sortBy('-score')">Score</a><span class="sortorder" ng-show="propertyName==='-score'" ng-class="{reverse: reverse}"> </span></th>
						<th id="n">Name</th>
						<th id="ci" class="hidden-xs hidden-s">Current Info</th>
						<th id="d" class="hidden-xs hidden-s">Degree</th>
						<th id="c" class="hidden-xs hidden-s">Contact</th>
						<th id="o">Options</th>
					</tr>
				</thead>
				
				<tbody ng-repeat="applicant in applicants | orderBy:propertyName:reverse | filter:searchText track by applicant.id">
					<tr class="accordion-toggle">
						<td id="p"><img id = "profile" ng-src="{{getLink(applicant.id, 'image')}}" err-src="images/profile.png"></td>
						<td id="s"><span id="high" ng-if="applicant.score >= 0.7">{{applicant.score}}</span>
						<span id="mid" ng-if="applicant.score == 0.6 || applicant.score == 0.4 || applicant.score == 0.5">{{applicant.score}}</span>
						<span id="low" ng-if="applicant.score <= 0.3">{{applicant.score}}</span> <br> <span id="star" class="glyphicon glyphicon-star" ng-if="applicant.score >= 0.9"></span>
						</td>
						<td id="n">{{applicant.name}}</td>
						<td id="ci" class="hidden-xs hidden-s">{{applicant.currentLocation.organization}} <br> {{applicant.currentLocation.location}}<br> {{applicant.currentLocation.title}}</td>
						<td id="d" class="hidden-xs hidden-s">{{applicant.education.degree}}</td>
						<td id="c" class="hidden-xs hidden-s"><a ng-href="tel:{{applicant.contact.phone}}"> {{applicant.contact.phone}} </a> <br> <a ng-href="mailto:{{applicant.contact.email}}"> {{applicant.contact.email}}</a> <br> </td>
						<td id="o"><div id="favToast" class='toast' style="display:none">Applicant added to Favorites</div><span ng-if="selection != 'favorite'"><button id="up" type="button" class="btn btn-default" aria-label="Left Align"  ng-click="mark(applicant.id, 'favorite', applicant); showToast('favToast')"> 
							<span title="Add to Favorites" class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>
						</button></span>
						<div id="revToast" class='toast' style="display:none">Applicant marked for Review</div>
						<span ng-if="selection != 'review'"><button id="question" type="button" class="btn btn-default" aria-label="Left Align" ng-click="mark(applicant.id, 'review', applicant); showToast('revToast')">
							<span title="Add to Review" class="glyphicon glyphicon-question-sign" aria-hidden="true"></span>
							<a href="/archive"></a> 
						</button></span>
						<div id="arcToast" class='toast' style="display:none">Applicant added to Archive</div>
						<span ng-if="selection != 'archive'"><button id="down" type="button" class="btn btn-default" aria-label="Left Align" ng-click="mark(applicant.id, 'archive', applicant); showToast('arcToast')">
							<span title="Add to Archive" class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span>
							<a href="/archive"></a> 
						</button></span>
						<div id="backToast" class='toast' style="display:none">Applicant moved back to homepage</div>	
						<span ng-if="selection != 'new'"><button id="back" type="button" class="btn btn-default" aria-label="Left Align" ng-click="remove(applicant.id, applicant); showToast('backToast')">
							<span title="Send back to New" class="glyphicon glyphicon-share-alt">
							</span>
						</button></span>		
						<button id="eye" class="btn btn-default btn-xs" data-toggle="collapse" data-target="#demo1-{{$index}}">
							<span title="View more" class="glyphicon glyphicon-eye-open">
							</span>
						</button>
						<a target="_blank" href="{{getLink(applicant.id, 'pdf')}}">
							<button id="file" type="button" class="btn btn-default" aria-label="Left Align" ng-click="">
								<span title="View resume" class="glyphicon glyphicon-file">
								</span>
							</button>
						</a>
					</td>
				</tr>
				<tr>
					<td  id="hide" colspan="12" class="hiddenRow"><div class="accordian-body collapse" id="demo1-{{$index}}"> 
						<table class="table table-striped">
							<thead>
								<tr><th>Skills</th><th  class="hidden-xs hidden-s">Education</th><th  class="hidden-xs hidden-s">Web Links</th></tr>
							</thead>
							<tbody>
								<tr><td id='body'><b>ETL:</b> {{applicant.skills.etl.join(', ')}} <br> <b>Web App:</b> {{applicant.skills.webapp.join(', ')}} <br> <b>Languages:</b> {{applicant.skills.language.join(', ')}} <br> <b>Mobile:</b> {{applicant.skills.mobile.join(', ')}} <br> <b>Databases:</b> {{applicant.skills.database.join(', ')}}<br> <b> Big Data:</b> {{applicant.skills.bigdata.join(',')}}</td><td class="hidden-xs hidden-s"><b>School:</b> {{applicant.education.school}} <br> <b>GPA:</b> {{applicant.education.gpa}} <br> </td><td id='body'  class="hidden-xs hidden-s"> <b>Linked-in: </b><a ng-href="{{applicant.contact.linkedin}}" target="_blank">{{applicant.contact.linkedin}} </a> <br> <b> GitHub: </b><a ng-href="{{applicant.contact.github}}" target="_blank"> {{applicant.contact.github}} </a> <br> <b>Indeed: </b><a ng-href="{{applicant.contact.indeed}}" target="_blank"> {{applicant.contact.indeed}} </a></td>
								</tbody>
							</table>
						</div> </td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</body>
